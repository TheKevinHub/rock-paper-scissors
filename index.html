<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rock Paper Scissors</title>
</head>
<body>

<!-- 
    1) Make function `getComputerChoice`
    2) Make `getComputerChoice` randomly choose Rock/Paper/Scissors (test with console.log)
    3) Make a function that plays a single round; function should have two parameters
    3.1) Parameters > `playerSelection` and `computerSelection`
    3.2) Return a string that declares winner like so: `You Lose! Paper beats Rock`
    3.3) Make function playerSelection parameter's case-insensitive
    4) Function `playRound()`
    4.1) console.log(playRound(playerSelection, computerSelection));
    4.2) Change console.log() to return at the end
    5) New function `game()`
    5.1) Use previous function inside this one to play a 5 round game that keeps score and reports winner at the end
    * Feel free to use loops
    * use `prompt()` to get user input
-->

    <script>
        let wins = 0;
        let losses = 0;
        let round = 0;

        function getComputerChoice() {
            let compChoice = Math.ceil(Math.random() * 3);
            // Ternary Operator
            return compChoice == 1 ? compChoice = "Rock"
            : compChoice == 2 ? compChoice = "Paper"
            : compChoice = "Scissors";
        }

        function getPlayerChoice() {
            playerChoice = prompt("Rock, Paper, Scissors?");
            playerChoice = playerChoice.toLowerCase();
            playerChoice = playerChoice[0].toUpperCase() + playerChoice.slice(1);
            
            while (playerChoice !== "Rock" && playerChoice !== "Paper" && playerChoice !== "Scissors")
            {
                alert("Sorry, that's not an option. Try again.");
                getPlayerChoice();
            }

            return playerChoice;
        }

        function playRound(playerSelection, computerSelection) {
            if (playerSelection == computerSelection) {
                alert("Tie! Try again.");
                playRound(getPlayerChoice(), getComputerChoice());
            }
            else if (playerSelection == "Rock" && computerSelection == "Scissors") {
                wins += 1;
                alert("Round " + round + "\n\nPlayer wins this round! Rock beats Paper.\n\nPlayer wins: " + wins + "\nComputer wins: " + losses);
            }
            else if (playerSelection == "Paper" && computerSelection == "Rock") {
                wins += 1;
                alert("Round " + round + "\n\nPlayer wins this round! Paper beats Rock.\n\nPlayer wins: " + wins + "\nComputer wins: " + losses);
            }
            else if (playerSelection == "Scissors" && computerSelection == "Paper") {
                wins += 1;
                alert("Round " + round + "\n\nPlayer wins this round! Scissors beat Paper.\n\nPlayer wins: " + wins + "\nComputer wins: " + losses);
            }
            else {
                losses += 1;
                alert("Round " + round + "\n\nComputer wins... " + playerSelection + " loses to " + computerSelection + ".\n\n" + "Player wins: " + wins +"\nComputer wins: " + losses);
            }
        }

        function game() {
            wins = 0;
            losses = 0;
            round = 0;

            while (round < 5) {
                round += 1;
                playRound(getPlayerChoice(), getComputerChoice());
                console.log("Wins: " + wins);
                console.log("Losses: " + losses);
            }
            if (wins > losses) {
                alert("Player wins the game! " + wins + " to " + losses);
            }
            else {
                alert("Computer wins the game... " + losses + " to " + wins);
            }
        }


        game();
        // playRound(getPlayerChoice(), getComputerChoice());
    </script>

</body>
</html>